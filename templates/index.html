<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title data-i18n="training_analysis">BodyScale</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="/static/js/i18n.js"></script>

</head>
<body>
    <div class="container">
        <div class="main-content">
            <div class="app-header">
                <h1 class="app-title">BodyScale</h1>
                <p class="app-subtitle">フォーム分析・トレーニング管理</p>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">動画アップロード</h2>
                </div>
                <div class="card-body">
                    <form action="/analyze" method="post" enctype="multipart/form-data" class="upload-form">
                        <input type="hidden" name="analysis_type" value="training">
                        
                        <div class="form-group">
                            <label for="height" class="form-label">身長 <span id="height-value">170</span>cm</label>
                            <input type="range" class="form-control" id="height" name="height" min="100" max="220" value="170" step="1" oninput="document.getElementById('height-value').textContent = this.value">
                        </div>
                        
                        <div class="form-group">
                            <label for="exercise_type" class="form-label">トレーニング種目</label>
                            <select class="form-control" id="exercise_type" name="exercise_type">
                                <option value="squat" selected>スクワット</option>
                                <option value="bench_press">ベンチプレス</option>
                                <option value="deadlift">デッドリフト</option>
                                <option value="overhead_press">オーバーヘッドプレス</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="video" class="form-label">動画ファイル</label>
                            <input class="form-control" type="file" id="video" name="video" accept="video/mp4,video/quicktime,video/webm" placeholder="MP4、MOV、WebM形式">
                        </div>
                        
                        <button class="btn btn-primary btn-lg" type="submit">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1a4 4 0 014 4v1a1 1 0 001 1h4a1 1 0 001-1v-1a4 4 0 014 4v1"></path>
                            </svg>
                            分析開始
                        </button>
                    </form>
                </div>
            </div>

            <div class="card">
                <div class="card-body" style="text-align: center;">
                    <a href="/simple_training?mode=sample" class="btn btn-secondary">
                        <svg class="icon" viewBox="0 0 24 24">
                            <path d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                        </svg>
                        サンプル動画で試す
                    </a>
                </div>
            </div>
        
        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <div class="nav-container">
                <a href="/" class="nav-item active">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/>
                        <polyline points="9,22 9,12 15,12 15,22"/>
                    </svg>
                    <span class="nav-label">ホーム</span>
                </a>
                <a href="/workout_log" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M9 11H7a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2v-7a2 2 0 00-2-2h-2M9 11V9a2 2 0 112 0v2M9 11h6"/>
                    </svg>
                    <span class="nav-label">記録</span>
                </a>
                <a href="/dashboard" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                    <span class="nav-label">統計</span>
                </a>
                <a href="/settings" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"/>
                    </svg>
                    <span class="nav-label">設定</span>
                </a>
            </div>
        </nav>
    </div>

    <script>
        // Initialize height value display
        document.addEventListener('DOMContentLoaded', function() {
            const heightSlider = document.getElementById('height');
            const heightValue = document.getElementById('height-value');
            
            if (heightSlider && heightValue) {
                heightSlider.addEventListener('input', function() {
                    heightValue.textContent = this.value;
                });
            }
        });
    </script>
</body>
</html>
