# BodyScale テストシナリオ

## 🎯 テスト環境の起動

```bash
python setup_test_server.py
```

## 📱 基本動作確認

### 1. ログイン機能
1. http://localhost:3000 にアクセス
2. ログイン画面が表示されることを確認
3. 以下の認証情報でログイン:
   - メール: `demo@example.com`
   - パスワード: `demo123`
4. ホーム画面に遷移することを確認

### 2. ダッシュボード表示
1. ホーム画面で各種統計が表示されることを確認:
   - 今週のトレーニング回数
   - 平均フォームスコア
   - 連続記録日数
2. 「進捗を確認」ボタンをクリック
3. グラフが正しく表示されることを確認

### 3. フォーム分析（デモモード）
1. ホーム画面で「フォーム分析を開始」をクリック
2. カメラビューが表示される（デモモードではダミー映像）
3. 種目を選択:
   - スクワット
   - デッドリフト  
   - ベンチプレス
4. 「録画開始」ボタンをクリック
5. デモアニメーションが表示されることを確認
6. 5秒後に「録画停止」をクリック
7. 分析結果が表示されることを確認:
   - 総合スコア
   - 各項目のスコア
   - フィードバック
   - 主要測定値

### 4. キャリブレーション機能
1. フォーム分析画面で「キャリブレーション」ボタンをクリック
2. 個人情報入力画面が表示されることを確認
3. 以下を入力:
   - 身長: 170cm
   - 体重: 70kg（任意）
   - 足首の柔軟性: 25度
4. 「保存」をクリック
5. 設定が保存されたメッセージが表示されることを確認

### 5. 進捗管理機能
1. メインメニューから「進捗を確認」をクリック
2. 各タブの動作確認:
   - **概要タブ**: 週間アクティビティとバランス評価
   - **種目別タブ**: 各種目の進捗グラフ
   - **トレンドタブ**: 成長予測と改善提案
   - **実績タブ**: 獲得したアチーブメント

### 6. レスポンシブデザイン
1. ブラウザのデベロッパーツールを開く（F12）
2. デバイスモードに切り替え
3. 以下のデバイスサイズで表示確認:
   - iPhone 12 Pro (390x844)
   - iPad (768x1024)
   - Desktop (1920x1080)
4. 各画面でレイアウトが崩れていないことを確認

## 🧪 高度なテストシナリオ

### A. パフォーマンステスト
1. 録画を30秒間実行
2. CPUとメモリ使用率を監視
3. フレームレートが安定していることを確認

### B. エラーハンドリング
1. 無効なログイン情報を入力
   - エラーメッセージが表示されることを確認
2. ネットワークを切断した状態で操作
   - 適切なエラーメッセージが表示されることを確認

### C. データ永続性
1. キャリブレーション設定を保存
2. ブラウザをリロード
3. 設定が保持されていることを確認

## 📊 期待される結果

### 正常系
- すべての画面が正しく表示される
- ボタンやリンクが適切に動作する
- データの保存と読み込みが正常に行われる
- グラフやチャートが正しく描画される

### デモモードの制限
- 実際のカメラは使用されない
- 分析結果は固定のダミーデータ
- Firebase認証は使用されない
- データはローカルストレージに保存

## 🐛 既知の問題

1. **MediaPipeの初回ロード**
   - 初回アクセス時にモデルのダウンロードで時間がかかる場合があります
   
2. **ブラウザの互換性**
   - Chrome/Edge: 完全対応
   - Firefox: MediaPipeが一部動作しない可能性
   - Safari: カメラアクセスに制限がある場合あり

3. **メモリ使用量**
   - 長時間の使用でメモリ使用量が増加する可能性
   - ブラウザの再起動で解決

## 💡 テストのヒント

1. **デベロッパーツール活用**
   - Networkタブでエラーをチェック
   - Consoleでエラーログを確認
   - Performanceタブでパフォーマンスを監視

2. **複数ブラウザでテスト**
   - Chrome
   - Edge
   - Firefox
   - Safari（Mac）

3. **異なるネットワーク環境**
   - 高速回線
   - 3G/4G相当の低速回線
   - オフライン状態